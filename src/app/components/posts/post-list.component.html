<div class="posts-container">
  <div class="posts-header">
    <h1>Travel Community</h1>
    <p>Share your travel experiences and discover new adventures</p>
  </div>

  <div class="posts-actions">
    <a href="/community/new" class="btn btn-primary">
      <i class="fas fa-plus"></i> Create New Post
    </a>
  </div>

  <div class="posts-list" *ngIf="!isLoading && !errorMessage">
    <div class="post-item" *ngFor="let post of posts">
      <div class="post-header">
        <div class="post-avatar">
          <img src="https://ui-avatars.com/api/?name={{post.author?.firstName}}+{{post.author?.lastName}}&background=3498db&color=fff&size=40" 
               alt="{{post.author?.firstName}} {{post.author?.lastName}}" 
               *ngIf="post.author?.profileImageUrl; else defaultAvatar">
          <ng-template #defaultAvatar>
            <div class="avatar-placeholder-small">
              {{post.author?.firstName?.charAt(0)}}{{post.author?.lastName?.charAt(0)}}
            </div>
          </ng-template>
        </div>
        <div class="post-meta">
          <h3><a [routerLink]="['/community', post.id]">{{post.title}}</a></h3>
          <div class="post-info">
            <span class="author">
              by {{post.author?.firstName}} {{post.author?.lastName}}
            </span>
            <span class="date">{{post.createdAt | date:'short'}}</span>
          </div>
        </div>
      </div>
      
      <div class="post-content">
        <p>{{post.content}}</p>
        <div class="post-tags" *ngIf="post.tags && post.tags.length > 0">
          <span class="tag" *ngFor="let tag of post.tags">{{tag}}</span>
        </div>
      </div>
      
      <div class="post-footer">
        <div class="post-stats">
          <span class="stat">
            <i class="fas fa-heart"></i> {{post.likes || 0}}
          </span>
          <span class="stat">
            <i class="fas fa-comment"></i> {{post.comments?.length || 0}}
          </span>
          <span class="stat">
            <i class="fas fa-eye"></i> {{post.views || 0}}
          </span>
        </div>
        <div class="post-actions">
          <a [routerLink]="['/community', post.id]" class="btn btn-sm btn-outline">
            Read More
          </a>
        </div>
      </div>
    </div>
  </div>

  <div class="loading" *ngIf="isLoading">
    <div class="spinner"></div>
    <p>Loading posts...</p>
  </div>

  <div class="error" *ngIf="errorMessage">
    <p>{{errorMessage}}</p>
    <button class="btn btn-primary" (click)="loadPosts()">Try Again</button>
  </div>

  <div class="no-posts" *ngIf="!isLoading && posts.length === 0 && !errorMessage">
    <div class="no-posts-icon">
      <i class="fas fa-comments"></i>
    </div>
    <h3>No Posts Yet</h3>
    <p>Be the first to share your travel experience!</p>
    <a href="/community/new" class="btn btn-primary">
      Create Your First Post
    </a>
  </div>
</div>